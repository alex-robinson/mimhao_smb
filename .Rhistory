#Save table3 to a pdf file
pdf(file.path(outfldr,"table3.pdf"),height=10, width=30)
grid.table(table3)
dev.off()
table3 = table2[names(table2)[c(1,3,4,5,6,7,8,9,10,11,12)]]
#Save table3 to a pdf file
pdf(file.path(outfldr,"table3.pdf"),height=10, width=30)
grid.table(table3)
dev.off()
names(table2)
names(table3)
names(table3)[9]="SMB.2071.2100.m.year"
table3
names(table3)
names(def)
names(def)[15]
table3 = def[names(def)][c(1,15)],table2[names(table2)[c(3,4,6,7,8,9,10,11,12)]]
table3 = table2[names(table2)[c(1,3,4,6,7,8,9,10,11,12)]]
names(table3)
table3 = def[names(def)[c(1,15)]],table2[names(table2)[c(3,4,6,7,8,9,10,11,12)]]
table3[1,2] = def[names(def)[c(1,15)]]
table3[1] = def[names(def)[c(1)]]
table3
names(table3)
table3[c(1,2)] = def[names(def)[c(1,15)]]
names(table3)
rm(table3)
table3
table3[c(1,2)] = def[names(def)[c(1,15)]]
table3[1] = def[names(def)[c(1)]]
rm(nms2)
nms2 = names(def)[1]
table3=table2(nms2)
table2
nms2 = names(def)[1]
table3=def(nms2)
table3=def[nms2]
table3
rm(nsm2)
rm(nms2)
nms=names(def[c(1,15)])
table3=def[nms2]
table3=def[nms]
table3
nms2 = names(def)[c(1,15)]  # Columns of interest
table3 = def[nms]
table3[c(3,4,5,6,7,8,9,10,11,12)] = table2[names(table2)[c(1,3,4,6,7,8,9,10,11,12)]]
table3
names(table3)
rm(table3)
nms2 = names(def)[c(1,15)]  # Columns of interest
table3 = def[nms]
table3[c(3,4,5,6,7,8,9,10,11,12,13)] = table2[names(table2)[c(3,4,6,7,8,9,10,11,12)]]
table3[1] = def[names(def)[c(1)]]
table3[2] = def[names(def)[c(15)]]
table3[c(3,4,5,6,7,8,9,10,11,12)] = table2[names(table2)[c(1,3,4,6,7,8,9,10,11,12)]]
names(table3)[2]="Area.km2" ###
names(table3)[8]="SMB.2001.2010"
table3
names(table3)
names(table2)
rm(table3[12])
names(table2)
nms2 = names(def)[c(1,15)]  # Columns of interest
table3 = def[nms]
table3[1] = def[names(def)[c(1)]]
table3[2] = def[names(def)[c(15)]]
table3[c(3,4,5,6,7,8,10,11)] = table2[names(table2)[c(3,4,6,7,8,10,11,12)]]
rm(table3)
nms2 = names(def)[c(1,15)]  # Columns of interest
table3 = def[nms]
table3[1] = def[names(def)[c(1)]]
table3[2] = def[names(def)[c(15)]]
table3[c(3,4,5,6,7,8,10,11)] = table2[names(table2)[c(3,4,6,7,8,10,11,12)]]
table3
rm(table3)
nms2 = names(def)[c(1,15)]  # Columns of interest
table3 = def[nms]
table3
table3[1] = def[names(def)[c(1)]]
table3[2] = def[names(def)[c(15)]]
table3
table3[c(3,4,5,6,7,8,10,11)] = table2[names(table2)[c(3,4,6,7,8,10,11,12)]]
table3
table2[names(table2)[c(3,4,6,7,8,10,11,12)]]
table3[c(3,4,5,6,7,8,10,11)]
table3[c(1,2)]
table3[3]
table3[3]=table2[3]
table3
table3[c(3,4)]=table2[c(3,4)]
table3
table3[c(3,4,5,6,7,8,10,11)] = table2[c(3,4,6,7,8,10,11,12)]]
table3[c(5)]=table2[c(6)]
table3
table3[c(3,4,5)]=table2[c(3,4,6)]
table2
rm(table3)
nms2 = names(def)[c(1,15)]  # Columns of interest
table3 = def[nms]
table3[c(3,4,5)]=table3[c(3,4,6)]
table3[c(3,4)]=table3[c(3,4)]
table3[c(3,4,5)]=table2[c(3,4,6)]
table3
table3[c(3,4,5,6)]=table2[c(3,4,6,7)]
table3[c(3,4,5,6,7)]=table2[c(3,4,6,7,8)]
table3[c(3,4,5,6,7,8)]=table2[c(3,4,6,7,8,9)]
table3[c(3,4,5,6,7,8,9,10)]=table2[c(3,4,6,7,8,9,10,11)]
table3[c(3,4,5,6,7,8,9,10,11)]=table2[c(3,4,6,7,8,9,10,11,12)]
table3[c(3,4,5,6,7,8,10,11)] = table2[c(3,4,6,7,8,10,11,12)]
nms2 = names(def)[c(1,15)]  # Columns of interest
table3 = def[nms]
table3[c(3,4,5,6,7,8,10,11)] = table2[c(3,4,6,7,8,10,11,12)]
rm(table3)
nms2 = names(def)[c(1,15)]  # Columns of interest
table3 = def[nms]
table3[c(3,4,5,6,7,8,10,11)] = table2[c(3,4,6,7,8,10,11,12)]
rm(table3)
nms2 = names(def)[c(1,15)]  # Columns of interest
table3 = def[nms]
table3[c(3,4)]=table2[c(3,4)]
table3[c(5,6,7,8,9,10,11)]=table2[c(6,7,8,9,10,11,12)]
table3
names(table3)
names(table2)
rm(table3)
nms2 = names(def)[c(1,15)]  # Columns of interest
table3 = def[nms]
table3[c(3,4)]=table2[c(3,4)]
table3[c(5,6,7)]=table2[c(6,7,8)]
table3[c(8,9,10)] = table2[c(10,11,12)]
names)(table3)
names(table3)
names(table3)[2]=
0
rm(table3)
nms2 = names(def)[c(1,15)]  # Columns of interest
table3 = def[nms]
table3[c(3,4)]=table2[c(3,4)]
table3[c(5)]=table2[c(7)]
table3[c(6,7,8)] = table2[c(10,11,12)]
names(table3)
names(table2)
rm(table3)
names(table2)
nms2 = names(def)[c(1,15)]  # Columns of interest
table3 = def[nms]
table3[c(3,4)]=table2[c(3,4)]
table3[c(5,6)]=table2[c(7,8)]
table3[c(7,8,9)] = table2[c(10,11,12)]
names(table3)
names(table3)[2]  = "Area [km2]" ###
names(table3)[3]  = "GL [m/yr]"
names(table3)[4]  = "IF [m/yr]"
names(table3)[5]  = "BM [m/yr]"
names(table3)[6]  = "SMB (2001-2010) [m/yr]"
names(table3)[7]  = "SMB (2071-2100) [m/yr]"
names(table3)[8]  = "dH/dt (2001-2010) [m/yr]"
names(table3)[9]  = "dH/dt (2071-2100) [m/yr]"
names(table3)
#Save table3 to a pdf file
pdf(file.path(outfldr,"table3.pdf"),height=10, width=20)
grid.table(table3)
dev.off()
rm(table3)
nms2 = names(def)[c(1,15)]  # Columns of interest
table3 = def[nms2]
table3[c(3,4)]=table2[c(3,4)]
table3[c(5,6)]=table2[c(7,8)]
table3[c(7,8,9)] = table2[c(10,11,12)]
names(table3)[2]  = "Area [km2]" ###
names(table3)[3]  = "GL [m/yr]"
names(table3)[4]  = "IF [m/yr]"
names(table3)[5]  = "BM [m/yr]"
names(table3)[6]  = "SMB (2001-2010) [m/yr]"
names(table3)[7]  = "SMB (2071-2100) [m/yr]"
names(table3)[8]  = "dH/dt (2001-2010) [m/yr]"
names(table3)[9]  = "dH/dt (2071-2100) [m/yr]"
#Save table3 to a pdf file
pdf(file.path(outfldr,"table3.pdf"),height=10, width=20)
grid.table(table3)
dev.off()
names(def)
table4 = def[nms2]
table4[c(3,4)]=def[c(3,4)]
table4[5]=def[8]
table4[6]=def[17]
table4[7]=def[22]
table4[8]=def[24]
table4[9]=def[26]
table3[c(7,8,9)] = table2[c(10,11,12)]
names(table3)
names(table4)
names(table4)[2]  = "Area [km2]" ###
names(table4)[3]  = "GL [Gt/yr]"
names(table4)[4]  = "IF [Gt/yr]"
names(table4)[5]  = "BM [Gt/yr]"
names(table4)[6]  = "SMB (2001-2010) [Gt/yr]"
names(table4)[7]  = "SMB (2071-2100) [Gt/yr]"
names(table4)[8]  = "dH/dt (2001-2010) [Gt/yr]"
names(table4)[9]  = "dH/dt (2071-2100) [Gt/yr]"
table4
#Save table3 to a pdf file
pdf(file.path(outfldr,"table4.pdf"),height=10, width=20)
grid.table(table4)
dev.off()
table5 = def[nms2]
table5[c(3,4)]=def[c(3,4)]
names(table5)
rm(table5)
table5 = def[nms2]
names(table5)
def
names(def)
table5
table5 = def[nms2]
table5[3]=def[17]
table5[4]=def[20]
table5[5]=def[28]
table5[6]=def[31]
table5
names(table5)
names(table5)[2]  = "Area [km2]"
names(table5)[1]  = "Ice shelves"
names(table5)[2]  = "Area [km2]"
names(table5)[2]  = "SMB (2000-2010) [Gt/yr]"
names(table5)[2]  = "SMB (2000-2010) [mm/yr]"
names(table5)[2]  = "Precip. offset (2000-2010) [mm/yr]"
names(table5)[2]  = "Precip. offset (2000-2010) [%]"
table5
names(table5)[1]  = "Ice shelves"
names(table5)[2]  = "Area [km2]"
names(table5)[2]  = "SMB (2000-2010) [Gt/yr]"
names(table5)[2]  = "SMB (2000-2010) [mm/yr]"
names(table5)[2]  = "Precip. offset (2000-2010) [mm/yr]"
names(table5)[2]  = "Precip. offset (2000-2010) [%]"
table5
names(table5)
names(table5)[1]  = "Ice shelves"
names(table5)[2]  = "Area [km2]"
names(table5)[3]  = "SMB (2000-2010) [Gt/yr]"
names(table5)[4]  = "SMB (2000-2010) [mm/yr]"
names(table5)[5]  = "Precip. offset (2000-2010) [mm/yr]"
names(table5)[6]  = "Precip. offset (2000-2010) [%]"
names(table5)
table6[c(3,4)]=def[c(22,23)]
table5[5]=def[30]
table5[6]=def[32]
table6 = def[nms2]
table6[c(3,4)]=def[c(22,23)]
table5[5]=def[30]
table5[6]=def[32]
table6
table6 = def[nms2]
table6[c(3,4)]=def[c(22,23)]
table6[5]=def[30]
table6[6]=def[32]
table6
names(table6)[1]  = "Ice shelves"
names(table6)[2]  = "Area [km2]"
names(table6)[3]  = "SMB (2071-2100) [Gt/yr]"
names(table6)[4]  = "SMB (2071-2100) [mm/yr]"
names(table6)[5]  = "Precip. offset (2071-2100) [mm/yr]"
names(table6)[6]  = "Precip. offset (2071-2100) [%]"
table6
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/calculations.r')
def
View(table2)
View(table5)
View(def)
View(table4)
source('~/TFM/mimhao_smb/calculations.r')
sum(table4[c(6)])
sum(table4[c(6)])-270.55554
source('~/TFM/mimhao_smb/calculations.r')
RACMO2_ANT3K55_HadCM3_A1B_monthly_2071_2100$zs
source('~/TFM/mimhao_smb/functions_plotting.r')
plot(RACMO2_ANT3K55_HadCM3_A1B_monthly_2071_2100$zs)
plot_antarctica(Xc,Yc,RACMO2_ANT3K55_HadCM3_A1B_monthly_2071_2100$zs,mask_ice,mask_super,breaks=brks,col=col,title="Prueba")
image.plot(RACMO2_ANT3K55_HadCM3_A1B_monthly_2071_2100$zs)
image.plot(RACMO2_ANT3K55_HadCM3_A1B_monthly_2000_2010$zs)
RACMO2_ANT3K55_HadCM3_A1B_monthly_2000_2010$zs==RACMO2_ANT3K55_HadCM3_A1B_monthly_2071_2100
RACMO2_ANT3K55_HadCM3_A1B_monthly_2000_2010$zs==RACMO2_ANT3K55_HadCM3_A1B_monthly_2071_2100$zs
source('~/TFM/mimhao_smb/calculations.r')
image.plot(TOPO_BEDMAP2$zb)
image.plot(TOPO_BEDMAP2$H)
table3$`dH/dt (2000-2010) [m/yr]`
mask_plot2
image.plot(mask_plot2)
image.plot(nasa_basin)
image.plot(mask_ice_all)
image.plot(mask_plot2)
mask_plot2
mask_plot2[1รง]
mask_plot2[1]
mask_plot2[[1]]
if(mask_plot2)==1
(mask_plot2)==1
((mask_plot2)==1)=1
((mask_plot2)==1)->1
((mask_plot2)==1)<-1
which(mask_plot2==1)
which(mask_plot2==1)=1
i=which(mask_plot2==1)
i
mask_plot2[i]
nreg
n_Reg
n_reeg
n_reg
reg
table3$`dH/dt (2000-2010) [m/yr]`[i]
table3$`dH/dt (2000-2010) [m/yr]`[1]
table3$`dH/dt (2000-2010) [m/yr]
''
`
table3$`dH/dt (2000-2010) [m/yr]`
table3
table3$`dH/dt (2000-2010) [m/yr]`[22]
table3$`dH/dt (2000-2010) [m/yr]`
TOPO_BEDMAP2$H
TOPO_BEDMAP2$H[reg]
reg = which(mask_plot2==i)
which(mask_plot2==i)
i
i=1
reg = which(mask_plot2==i)
reg
TOPO_BEDMAP2$H[reg]+table3$`dH/dt (2000-2010) [m/yr]`[i]
TOPO_BEDMAP2$H+table3$`dH/dt (2000-2010) [m/yr]`[i]
new_H = TOPO_BEDMAP2$H+table3$`dH/dt (2000-2010) [m/yr]`[i]
image.plot(new_H)
H
image.plot(TOPO_BEDMAP2$H)
table3$`dH/dt (2000-2010) [m/yr]`[i]
TOPO_BEDMAP2$H[reg[2]]
period
Dt
dt
Dt
time
years
x = 3
y = 4
z = 4
x<=4
x<=z
y==<
y==z
y>=z
y<=z
y<z
y>z
new_H
x++
5
for(i in 1:n_reg)
{
reg = which(mask_plot2==i)
new_H[i] = TOPO_BEDMAP2$H[[reg[i]]]+Dt*table3$`dH/dt (2000-2010) [m/yr]`[i]
}
Dt = 1
for(i in 1:n_reg)
{
reg = which(mask_plot2==i)
new_H[i] = TOPO_BEDMAP2$H[[reg[i]]]+Dt*table3$`dH/dt (2000-2010) [m/yr]`[i]
}
image.plot(new_H[i])
new_H[i]
TOPO_BEDMAP2$H[[reg[i]]]
TOPO_BEDMAP2$H[[reg]]
TOPO_BEDMAP2$H[reg]
image.plot(TOPO_BEDMAP2$H[reg])
TOPO_BEDMAP2$H[reg]
for(i in 1:n_reg)
{
reg = which(mask_plot2==i)
new_H[i] = TOPO_BEDMAP2$H[reg]+Dt*table3$`dH/dt (2000-2010) [m/yr]`[i]
}
warning()
warnings()
new_H
new_H[i]
Dt = 1; #period of time (initially one year)
for(i in 1:n_reg)
{
reg = which(mask_plot2==i)
new_H[reg] = TOPO_BEDMAP2$H[reg]+Dt*table3$`dH/dt (2000-2010) [m/yr]`[i]}
new_H[reg]
image.plot(new_H[reg])
plot(new_H[reg])
image.plot(TOPO_BEDMAP2[reg])
image.plot(TOPO_BEDMAP2$H[reg])
TOPO_BEDMAP2$H[reg]
TOPO_BEDMAP2$zb[reg]
Dt = 1; #period of time (initially one year)
for(i in 1:n_reg)
{
reg = which(mask_plot2==i)
new_H[reg] = TOPO_BEDMAP2$H[reg]+Dt*table3$`dH/dt (2000-2010) [m/yr]`[i]
if (new_H[reg]>=TOPO_BEDMAP2$zb[reg]){
years = Dt
}
else
{
Dt = Dt+1
}
}
Dt
years
gice
Dt = 1; #period of time (initially one year)
gice = TOPO_BEDMAP2$H  #Grounded ice mask
gice = NA
gice
gice = TOPO_BEDMAP2$H
gice
gice[] = NA
gice
View(gice)
gice = TOPO_BEDMAP2$H
for(i in 1:n_reg)
{
reg = which(mask_plot2==i)
new_H[reg] = TOPO_BEDMAP2$H[reg]+Dt*table3$`dH/dt (2000-2010) [m/yr]`[i]
gice[reg] = which(new_H[reg]>=TOPO_BEDMAP2$zb[reg])
}
gice[reg]
gice
which(new_H[reg]>=TOPO_BEDMAP2$zb[reg])
which(new_H[reg]>0)
which(new_H[reg]<0)
fewfe = c(1,2,34,4,-4,3,21,3124,1,-4321,235,-23,23,523,32,423,41,1424, -121, -12, -1, 0, 13)
fewfe
wef2q = which(fewfe<0)
fewfe(wef2q)=0
fewfe[wef2q]=0
fewfe
uptosea
uptosl
abovesl
Dt = 1; #period of time (initially one year)
gice = TOPO_BEDMAP2$H  #Grounded ice mask
gice[] = NA            #Grounded ice mask
for(i in 1:n_reg)
{
reg = which(mask_plot2==i)
new_H[reg] = TOPO_BEDMAP2$H[reg]+Dt*table3$`dH/dt (2000-2010) [m/yr]`[i]
abovesl = which(TOPO_BEDMAP2$zb[reg]>0) #Which values are above sea level
TOPO_BEDMAP2$zb[reg][abovesl] = 0 #In our study we eliminate points above sea level
gice[reg] = which(new_H[reg]>=TOPO_BEDMAP2$zb[reg])
}
rm gice
rm(gice)
rm(Dt)
rm(reg)
rm(new_H)
rm(abovesl)
rm(TOPO_BEDMAP2)
Dt = 1; #period of time (initially one year)
gice = TOPO_BEDMAP2$H  #Grounded ice mask
gice[] = NA            #Grounded ice mask
for(i in 1:n_reg)
{
reg = which(mask_plot2==i)
new_H[reg] = TOPO_BEDMAP2$H[reg]+Dt*table3$`dH/dt (2000-2010) [m/yr]`[i]
abovesl = which(TOPO_BEDMAP2$zb[reg]>0) #Which values are above sea level
TOPO_BEDMAP2$zb[reg][abovesl] = 0 #In our study we eliminate points above sea level
gice[reg] = which(new_H[reg]>=TOPO_BEDMAP2$zb[reg])
}
source('~/TFM/mimhao_smb/calculations.r')
source('load_data.r')
Dt = 1; #period of time (initially one year)
gice = TOPO_BEDMAP2$H  #Grounded ice mask
gice[] = NA            #Grounded ice mask
for(i in 1:n_reg)
{
reg = which(mask_plot2==i)
new_H[reg] = TOPO_BEDMAP2$H[reg]+Dt*table3$`dH/dt (2000-2010) [m/yr]`[i]
abovesl = which(TOPO_BEDMAP2$zb[reg]>0) #Which values are above sea level
TOPO_BEDMAP2$zb[reg][abovesl] = 0 #In our study we eliminate points above sea level
gice[reg] = which(new_H[reg]>=TOPO_BEDMAP2$zb[reg])
}
source('~/TFM/mimhao_smb/calculations.r')
depth()
help(depth)
depth()
Dep
Dt = 1; #period of time (initially one year, that is the changes between 2071-2072)
gice = TOPO_BEDMAP2$H        #Grounded ice mask
gice[] = NA                  #Grounded ice mask
new_H[] = TOPO_BEDMAP2$H     #New thickness
new_H[] = NA                 #New thickness
for(i in 1:n_reg)
{
reg = which(mask_plot2==i)
new_H[reg] = TOPO_BEDMAP2$H[reg]+Dt*table3$`dH/dt (2071-2100) [m/yr]`[i]
abovesl = which(TOPO_BEDMAP2$zb[reg]>0) #Which values are above sea level
TOPO_BEDMAP2$zb[reg][abovesl] = NA #In our study we eliminate points above sea level
Dep = -TOPO_BEDMAP2$zb[reg] # Depth with positive sign
gice[reg] = which(new_H[reg]>=TOPO_BEDMAP2$zb[reg])
}
count
wlei = 1 3 53 5 64 36 6436 33 3462 4624 624246
wef2q
length(which(wef2q>13))
length(which(wef2q>5))
y
