names(def[[20]])
dim(def)
def[["dH.dt.1981.2010.Gt.year"]]=def[[3]]-def[[4]]-def[[8]]+def[[16]]
dim(def)
source('~/TFM/mimhao_smb/calculations.r')
def
sum(def$dH.dt.A1B.2000.2010.Gt.year[1:22])
def$dH.dt.A1B.2000.2010.Gt.year[1:22]
sum(def$dH.dt.A1B.2000.2010.Gt.year[1:6,8:22])
sum(def$dH.dt.A1B.2000.2010.Gt.year[1:21])
head(new)
dim(new)
tmp=read.xlsx("data/rignot_new.xlsx",sheet = 1, rows=c(1:24))
# Delete region with no area
new = tmp[c(1:6,8:23),]
dim(new)
new
row.names(new)
row.names(new) = c(1:dim(new)[1]])
)
row.names(new)
row.names(new) <- c(1:dim(new)[1])
row.names(new)
row.names(new)
def[[15]][1]=df[[1]][1]
def[[15]][2]=df[[1]][2]+df[[1]][3]
for (s in 3:6)
{
def[[15]][s]=df[[1]][s+1]
}
def[[15]][7]=df[[1]][9]+df[[1]][10]+df[[1]][11]
for (s in 8:13)
{
def[[15]][s]=df[[1]][s+3]
}
def[[15]][14]=df[[1]][18]+df[[1]][19]
for (s in 15:20)
{
def[[15]][s]=df[[1]][s+4]
}
def[[15]][21]=df[[1]][26]+df[[1]][27]
def[[15]][22]=sum(def[[15]][1:21], na.rm = TRUE)
for (r in 2:5)  #r gives the different columns of the data frame
{
def[[r+14]][1]=df[[r]][1]/df[[1]][1]*def[[2]][1] #I divide by NASA's area and multiply by Rignot's area
def[[r+14]][2]=(df[[r]][2]+df[[r]][3])/(df[[1]][2]+df[[1]][3])*def[[2]][2]
for (s in 3:6)
{
def[[r+14]][s]=df[[r]][s+1]/df[[1]][s+1]*def[[2]][s]
}
def[[r+14]][7]=(df[[r]][9]+df[[r]][10]+df[[r]][11])/(df[[1]][9]+df[[1]][10]+df[[1]][11])*def[[2]][7]
for (s in 8:13)
{
def[[r+14]][s]=df[[r]][s+3]/df[[1]][s+3]*def[[2]][s]
}
def[[r+14]][14]=(df[[r]][18]+df[[r]][19])/(df[[1]][18]+df[[1]][19])*def[[2]][14]
for (s in 15:20)
{
def[[r+14]][s]=df[[r]][s+4]/df[[1]][s+4]*def[[2]][s]
}
def[[r+14]][21]=(df[[r]][26]+df[[r]][27])/(df[[1]][26]+df[[1]][27])*def[[2]][21]
def[[r+14]][22]=sum(def[[r+14]][1:21], na.rm = TRUE)
}#There are 21 'super regions'
def
source('~/TFM/mimhao_smb/calculations.r')
def
sum(def$dH.dt.A1B.2000.2010.Gt.year[1:21])
sum(def$SMB.A1B.2000.2010.Gt.year)
sum(def$SMB.A1B.2000.2010.Gt.year[1:21])
source('~/TFM/mimhao_smb/calculations.r')
def
def$dSMB.A1B.2001.2030.Gt.year
def[["2071.2100.Gt.year"]]=def$dSMB.A1B.2071.2100.Gt.year + def$SMB.Gt.year
def[["2001.2030.Gt.year"]]=def$dSMB.A1B.2001.2030.Gt.year + def$SMB.Gt.year
def
source('~/TFM/mimhao_smb/calculations.r')
def
source('~/TFM/mimhao_smb/calculations.r')
def
def$dSMB.A1B.2071.2100.Gt.year
sum(def$dSMB.A1B.2071.2100.Gt.year[1:22])
sum(def$dSMB.A1B.2071.2100.Gt.year[1:23])
sum(def$dSMB.A1B.2071.2100.Gt.year[1:21])
sum(def$SMB.Gt.year)
sum(def$SMB.Gt.year[2])
sum(def$SMB.Gt.year[1:21])
sum(def$SMB.Gt.year[1:21], na.rm=TRUE)
df
df[1]
sum(df$`SMB-1981-2010`)
new$SMB
new
source('~/TFM/mimhao_smb/calculations.r')
dim(def)
def
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/calculations.r')
def
source('~/TFM/mimhao_smb/calculations.r')
def
source('~/TFM/mimhao_smb/calculations.r')
def
as.numeric('-13.8)
''
'
as.numeric("'-13.8")
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
colors()
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/calculations.r')
dim(def)
def[[22]]
def[[19]]
def[[10]]
def[[20]]
def[[19]]
def[[1]]
def[1]
def[[1]]
def[[1]][1]
def[[19]][1]
def[[19]][2]
def[[19]][23]
def[[19]][22]
def
source('~/TFM/mimhao_smb/calculations.r')
def
df[[1]][1]
def[[2]][1]
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
map_smb_001_030 = mask_super*NA
for (q in 1:n_reg) {
kk = which(mask_super==q)
map_smb_81_10[kk] = def$SMB.A1B.2001.2030.Gt.year[q]
}
map_smb_071_100 = mask_super*NA
for (q in 1:n_reg) {
kk = which(mask_super==q)
map_smb_00_10[kk] = def$SMB.A1B.2071.2100.Gt.year[q]
}
rm(map_smb_00_10)
rm(map_smb_001_030)
rm(map_smb_071_100)
map_smb_00_10 = mask_super*NA
for (q in 1:n_reg) {
kk = which(mask_super==q)
map_smb_00_10[kk] = def$SMB.A1B.2000.2010.Gt.year[q]
}
map_smb_001_030 = mask_super*NA
for (q in 1:n_reg) {
kk = which(mask_super==q)
map_smb_001_030[kk] = def$SMB.A1B.2001.2030.Gt.year[q]
}
map_smb_071_100 = mask_super*NA
for (q in 1:n_reg) {
kk = which(mask_super==q)
map_smb_071_100[kk] = def$SMB.A1B.2071.2100.Gt.year[q]
}
source('~/TFM/mimhao_smb/plot_superregions.r')
def
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
zlim
zlim = range(map_gl,-map_if,-map_bm,map_smb,map_dhdt,na.rm=TRUE)
zlim
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
zlim = range(map_gl,map_if,map_bm,map_smb,map_dhdt,na.rm=TRUE)
zlim
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
### SMB projections (dSMB+Rignot.SMB) ###
def[["SMB.A1B.2001.2030.Gt.year"]] = def$SMB.Gt.year + def$dSMB.A1B.2001.2030.Gt.year
def[["SMB.A1B.2071.2100.Gt.year"]] = def$SMB.Gt.year + def$dSMB.A1B.2071.2100.Gt.year
### dH/dt projections ###
def[["dH.dt.proj.2001.2030.Gt.year"]] = def$SMB.A1B.2001.2030.Gt.year + def$GL.Gt.year - def$IF.Gt.year + def$BM.Gt.year
def[["dH.dt.proj.2071.2100.Gt.year"]] = def$SMB.A1B.2071.2100.Gt.year + def$GL.Gt.year - def$IF.Gt.year + def$BM.Gt.year
### Snow precipitation offset ###
def[["Snow.prec.2001.2030.mm.year"]] = - def[["dH.dt.proj.2001.2030.Gt.year"]]*1e12/def$Area.Rignot.Km2
def[["Snow.prec.2071.2100.mm.year"]] = - def[["dH.dt.proj.2071.2100.Gt.year"]]*1e12/def$Area.Rignot.Km2
source('~/TFM/mimhao_smb/calculations.r')
def
def$Snow.prec.2001.2030.mm.year
def[["Snow.prec.2001.2030.mm.year"]] = - def[["dH.dt.proj.2001.2030.Gt.year"]]*1e12/(1e6*def$Area.Rignot.Km2)
def[["Snow.prec.2071.2100.mm.year"]] = - def[["dH.dt.proj.2071.2100.Gt.year"]]*1e12/(1e6*def$Area.Rignot.Km2)
def
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/calculations.r')
zlim = range(map_prec_001_030,map_prec_071_100,na.rm=TRUE)
zlim
def$Snow.prec.2071.2100.mm.year
range(def$Snow.prec.2071.2100.mm.year)
range(def$Snow.prec.2071.2100.mm.year,def$Snow.prec.2001.2030.mm.year)
source('~/TFM/mimhao_smb/calculations.r')
zlim = range(map_prec_001_030,map_prec_071_100,na.rm=TRUE)
zlim
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
def$Snow.prec.2001.2030.mm.year
source('~/TFM/mimhao_smb/plot_superregions.r')
def$Snow.prec.2001.2030.mm.year
myfigure(outfldr,"map_prec_001_030",type="png",asp=1.2,pointsize=12)
plot_antarctica(Xc,Yc,map_prec_001_030,mask_ice,mask_super,breaks=brks,col=col,title="Snow precipitation offset (2071-2100) [mm/yr]")
graphics.off()
myfigure(outfldr,"map_prec_071_100",type="png",asp=1.2,pointsize=12)
plot_antarctica(Xc,Yc,map_prec_071_100,mask_ice,mask_super,breaks=brks,col=col,title="Snow precipitation offset (2071-2100) [mm/yr]")
graphics.off()
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
range(map_prec_001_030)
range(map_prec_001_030, na.rm = TRUE)
range(map_prec_071_100, na.rm = TRUE)
def$Snow.prec.2001.2030.mm.year
def$Snow.prec.2071.2100.mm.year
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
plot_antarctica(Xc,Yc,map_smb,mask_ice,mask_super,breaks=brks,col=col,title="SMB [Gt/yr] (Rignot)")
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
def
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/functions_plotting.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
def[["Current.snow.prec.offset.mm.year"]] = - def$dH.dt.Gt.year*1e12/(1e6*def$Area.Rignot.Km2)
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/calculations.r')
def
table2
source('~/TFM/mimhao_smb/plot_superregions.r')
table2
def[c(1,2)]
def
table2
nms = names(def)[c(1,2)]  # Columns of interest
table2 = def[nms]
table2
nms = names(def)[c(1,2)]  # Columns of interest
table2 = def[nms]
# Convert Gt/a => m/a
## TO DO ##
# Change headings to reflect new units
## TO DO ##
# Calculate bmelt anomaly to make future shelves unstable
kappa = 1    # m/a/K
table2[["GL.mm.year"]]                    = def$GL.Gt.year*1e9*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m
table2[["IF.mm.year"]]                    = defIF.Gt.year*1e9*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m
table2[["SMB.mm.year"]]                   = def$SMB.Gt.year*1e9*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m
table2[["dH.dt.mm.year"]]                 = def$dH.dt.Gt.year*1e9*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m
table2[["BM.mm.year"]]                    = def$BM.Gt.year*1e9*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m
table2[["dSMB.A1B.2071.2100.mm.year"]]    = def$dSMB.A1B.2071.2100.Gt.year*1e9*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m
table2[["SMB.A1B.2071.2100.mm.year"]]     = def$SMB.A1B.2071.2100.Gt.year*1e9*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m
table2[["dH.dt.proj.2071-2100.mm.year"]]  = def$dH.dt.proj.2071.2100.Gt.year*1e9*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m
table2[["dT.unstable.2071.2100.K"]] = NA   # Define new column
kappa = 1    # m/a/K
table2[["GL.mm.year"]]                    = def$GL.Gt.year*1e9*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m
table2[["IF.mm.year"]]                    = def$IF.Gt.year*1e9*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m
table2[["SMB.mm.year"]]                   = def$SMB.Gt.year*1e9*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m
table2[["dH.dt.mm.year"]]                 = def$dH.dt.Gt.year*1e9*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m
table2[["BM.mm.year"]]                    = def$BM.Gt.year*1e9*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m
table2[["dSMB.A1B.2071.2100.mm.year"]]    = def$dSMB.A1B.2071.2100.Gt.year*1e9*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m
table2[["SMB.A1B.2071.2100.mm.year"]]     = def$SMB.A1B.2071.2100.Gt.year*1e9*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m
table2[["dH.dt.proj.2071-2100.mm.year"]]  = def$dH.dt.proj.2071.2100.Gt.year*1e9*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m
table2[["dT.unstable.2071.2100.K"]] = NA   # Define new column
table2
rm(table2)
nms = names(def)[c(1,2)]  # Columns of interest
table2 = def[nms]
# Convert Gt/a => m/a
## TO DO ##
# Change headings to reflect new units
## TO DO ##
# Calculate bmelt anomaly to make future shelves unstable
kappa = 1    # m/a/K
table2[["GL.mm.year"]]                    = def$GL.Gt.year*1e9*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m
table2[["IF.mm.year"]]                    = def$IF.Gt.year*1e9*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m
table2[["SMB.mm.year"]]                   = def$SMB.Gt.year*1e9*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m
table2[["dH.dt.mm.year"]]                 = def$dH.dt.Gt.year*1e9*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m
table2[["BM.mm.year"]]                    = def$BM.Gt.year*1e9*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m
table2[["dSMB.A1B.2071.2100.mm.year"]]    = def$dSMB.A1B.2071.2100.Gt.year*1e9*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m
table2[["SMB.A1B.2071.2100.mm.year"]]     = def$SMB.A1B.2071.2100.Gt.year*1e9*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m
table2[["dH.dt.proj.2071-2100.mm.year"]]  = def$dH.dt.proj.2071.2100.Gt.year*1e9*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m
table2[["dT.unstable.2071.2100.K"]]       = NA   # Define new column
table2
rm(table2)
nms = names(def)[c(1,2)]  # Columns of interest
table2 = def[nms]
# Convert Gt/a => m/a
## TO DO ##
# Change headings to reflect new units
## TO DO ##
# Calculate bmelt anomaly to make future shelves unstable
kappa = 1    # m/a/K
table2[["GL.mm.year"]]                    = def$GL.Gt.year*1e15*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m;
table2[["IF.mm.year"]]                    = def$IF.Gt.year*1e15*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m;
table2[["SMB.mm.year"]]                   = def$SMB.Gt.year*1e15*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m;
table2[["dH.dt.mm.year"]]                 = def$dH.dt.Gt.year*1e15*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m;
table2[["BM.mm.year"]]                    = def$BM.Gt.year*1e15*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m;
table2[["dSMB.A1B.2071.2100.mm.year"]]    = def$dSMB.A1B.2071.2100.Gt.year*1e15*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m;
table2[["SMB.A1B.2071.2100.mm.year"]]     = def$SMB.A1B.2071.2100.Gt.year*1e15*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m;
table2[["dH.dt.proj.2071-2100.mm.year"]]  = def$dH.dt.proj.2071.2100.Gt.year*1e15*def$Area.Rignot.Km2 #Gt=1e12; 1mm=1e-3m;
table2[["dT.unstable.2071.2100.K"]]       = NA   # Define new column
table2
nms = names(def)[c(1,2)]  # Columns of interest
table2 = def[nms]
# Convert Gt/a => m/a
## TO DO ##
# Change headings to reflect new units
## TO DO ##
# Calculate bmelt anomaly to make future shelves unstable
kappa = 1    # m/a/K
table2[["GL.m.year"]]                    = def$GL.Gt.year*1e9/(def$Area.Rignot.Km2*1e6) #Gt=1e12; 1mm=1e-3m; 1km2=1e6m2
table2[["IF.m.year"]]                    = def$IF.Gt.year*1e9/(def$Area.Rignot.Km2*1e6) #Gt=1e12; 1mm=1e-3m; 1km2=1e6m2
table2[["SMB.m.year"]]                   = def$SMB.Gt.year*1e9/(def$Area.Rignot.Km2*1e6) #Gt=1e12; 1mm=1e-3m; 1km2=1e6m2
table2[["dH.dt.m.year"]]                 = def$dH.dt.Gt.year*1e9/(def$Area.Rignot.Km2*1e6) #Gt=1e12; 1mm=1e-3m; 1km2=1e6m2
table2[["BM.m.year"]]                    = def$BM.Gt.year*1e9/(def$Area.Rignot.Km2*1e6) #Gt=1e12; 1mm=1e-3m; 1km2=1e6m2
table2[["dSMB.A1B.2071.2100.m.year"]]    = def$dSMB.A1B.2071.2100.Gt.year*1e9/(def$Area.Rignot.Km2*1e6) #Gt=1e12; 1mm=1e-3m; 1km2=1e6m2
table2[["SMB.A1B.2071.2100.m.year"]]     = def$SMB.A1B.2071.2100.Gt.year*1e9/(def$Area.Rignot.Km2*1e6) #Gt=1e12; 1mm=1e-3m; 1km2=1e6m2
table2[["dH.dt.proj.2071-2100.m.year"]]  = def$dH.dt.proj.2071.2100.Gt.year*1e9/(def$Area.Rignot.Km2*1e6) #Gt=1e12; 1mm=1e-3m; 1km2=1e6m2
table2[["dT.unstable.2071.2100.K"]]       = NA   # Define new column
table2
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/calculations.r')
table2
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/calculations.r')
table2
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/calculations.r')
table2
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
zlim = range(map_dT_uns,na.rm=TRUE)
brks   = seq(-90,190,by=20)
col    = colorRampPalette(palette3)(length(brks)-1)
zlim
map_dT_uns
table2$dT.unstable.2071.2100.K
source('~/TFM/mimhao_smb/plot_superregions.r')
table2$`dH.dt.proj.2071-2100.m.year`
table2$BM.anom.m.year
table2$BM.m.year
which(table2$BM.m.year)<=0
which(table2$BM.m.year)<0
help(which(table2$BM.m.year))
help(which())
help(which
)
which(table2$BM.m.year<=0)
table2$BM.m.year
table2$BM.m.year[14]
table2$BM.m.year[1]
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
zlim = range(map_dT_uns,na.rm=TRUE)
zlim
table2$dT.unstable.2071.2100.K
range(map_dT_uns,na.rm=TRUE)
brks   = seq(0,6,by=0.1)
col    = colorRampPalette(palette4)(length(brks)-1)
myfigure(outfldr,"map_dT_uns_fine",type="png",asp=1.2,pointsize=12)
plot_antarctica(Xc,Yc,map_dT_uns,mask_ice,mask_super,breaks=brks,col=col,title="Oceanic subsurface-temperature anomalies (2071-2100) [mm/yr]")
graphics.off()
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
