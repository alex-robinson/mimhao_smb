View(def[[6]])
View(def)
View(def[[6]])
View(def[[5]])
View(def[[16]])
def[[16]]*2
def[[16]]
plot(def)
plot(def)
plot(def[1])
plot(def[2])
plot(def[23])
plot(def[[1]])
plot(def[[2]])
plot(def[[3]])
plot(def[[2]])
plot(def[[6]])
plot(def[[7]])
image.plot(def[[7]])
image.plot(def[[9]])
plot(def[[9]])
plot(def[[9]][1])
plot(def[[]][1])
plot(def[[1]][1])
plot(def[[16]][1])
plot(def[[16]][2])
plot(def[[16]])
plot(def[[16]][1:22], xlim = )
plot(def[[16]][1:22])
plot(def[[16]][1])
plot(def[[16]][1:22])
def[[16]][1:22]
image.plot(def[[16]][1:22])
help(image.plot)
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
dim(breaks)
map_GL
map_gl
dim(map_gl)
range(map_gl)
mask_super[nasa_basin %in% c(2,3)] = 2
mask_super[nasa_basin %in% c(2,3)] = 2# TO DO ###
# Define mask corresponding to super regions
mask_super = nasa_basin*mask_ice_ice
mask_super[nasa_basin %in% c(1)]   = 1
mask_super[nasa_basin %in% c(2,3)] = 2
mask_super[nasa_basin %in% c(4)]   = 3
mask_super[nasa_basin %in% c(5)]   = 4
mask_super[nasa_basin %in% c(6)]   = 5
mask_super[nasa_basin %in% c(7)]   = 6
mask_super[nasa_basin %in% c(8)]   = 7
mask_super[nasa_basin %in% c(9,10,11)] = 8
mask_super[nasa_basin %in% c(12)] = 9
mask_super[nasa_basin %in% c(13)] = 10
mask_super[nasa_basin %in% c(14)] = 11
mask_super[nasa_basin %in% c(15)] = 12
mask_super[nasa_basin %in% c(16)] = 13
mask_super[nasa_basin %in% c(17)] = 14
mask_super[nasa_basin %in% c(18+19)] = 15
mask_super[nasa_basin %in% c(20)] = 16
mask_super[nasa_basin %in% c(21)] = 17
mask_super[nasa_basin %in% c(22)] = 18
mask_super[nasa_basin %in% c(23)] = 19
mask_super[nasa_basin %in% c(24)] = 20
mask_super[nasa_basin %in% c(25)] = 21
mask_super[nasa_basin %in% c(26,27)] = 22
# TO DO ###
mask_super[mask_ice!=3] = NA
n_reg = max(mask_super,na.rm=TRUE)
map_gl = mask_super*NA
for (q in 1:n_reg) {
kk = which(mask_super==q)
map_gl[kk] = as.numeric(def$GL.Gt.year[q])
## TO DO ##
}
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
n_reg
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
breaks = range(-10000,0,10000)
#breaks = range(map_gl)
col    = c("red","blue")
#col    = rainbow(length(breaks)-1)
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
image.plot(Xc,Yc, map_gl)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
image.plot(Xc,Yc, map_gl, breaks=breaks, col=col)
breaks
breaks = -10000, 0, 10000
breaks = -10000 0 10000
breaks = "-10000" "0" "10000"
range(mapbl)
range(map_gl)
col = rainbow(length(breaks)-1)
col
image.plot(Xc,Yc,map_gl, col=col)
image.plot(Xc,Yc,map_gl)
image.plot(Xc,Yc,breaks=breaks)
lenght(breaks)
length(breaks)
dim(breaks)
range(map_gl)
breaks = range(map_gl)
# col    = c("red","blue")
col    = rainbow(length(breaks)-1)
length(col)
pol=rainbow(length(breaks))
length(pol)
length(col)
col
pol
help(FF0000FF)
??FF0000FF
image(Xc,Yc,mask_ice,col=c("grey95",NA,"white","grey80"))
image(Xc,Yc,map_gl,add=TRUE)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2),drawlabels=FALSE,lwd=4)
image.plot(Xc,Yc,map_gl,add=TRUE)
breaks=range(map_if)
breaks
View(breaks)
length(breaks)
map_if
map_smb[kk]
map_gl[kk]
mask_super
kk
def$IF.Gt.year
map_if[kk]
kk
map_if[14812]
map_if[14815]
map_if[14395]
map_if[14253]
source('~/TFM/mimhao_smb/plot_superregions.r')
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")+
)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
which(mask_super==q)
which(mask_super==21)
which(mask_super==222)
which(mask_super==22)
which(mask_super==27)
which(mask_super==2)
which(mask_super==3)
def$SMB.Gt.year
def$SMB.Gt.year[14.5]
def$SMB.Gt.year[14.2]
def$SMB.Gt.year[14]
def$SMB.Gt.year[13]
def$SMB.Gt.year[1]
View(def$GL.Gt.year)
n_reg
which(mask_super==2)
which(mask_super==21)
which(mask_super==22)
which(mask_super==23)
which(mask_super==0)
which(mask_super==0.2)
which(mask_super==2.5)
which(mask_super==2)
def$SMB.Gt.year[2]
def$SMB.Gt.year[[2]]
def$SMB.Gt.year[[3]]
def$SMB.Gt.year[1]
def$GL.Gt.year[1]
def$GL.Gt.year[3]
View(map_gl)
as.numeric(def$GL.Gt.year[3])
(def$GL.Gt.year[3])
help(as.numeric)
as.numeric(def$GL.Gt.year[1])
as.numeric(def$GL.Gt.year[2])
as.numeric(def$GL.Gt.year[3])
as.numeric(def$GL.Gt.year[23])
as.numeric(def$GL.Gt.year[22])
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
def$GL.Gt.year
def$GL.Gt.year[3]
is.numeric(def$GL.Gt.year)
is.numeric(as.numeric((def$GL.Gt.year))
)
as.numeric((def$GL.Gt.year)
)
as.numeric((def$GL.Gt.year[2])
)
def$GL.Gt.year[2]
as.numeric(def$GL.Gt.year[2])
breaks = range(map_gl)
col    = rainbow(length(breaks)-1)
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
map_gl
range(map_gl)
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
col
breaks
col
help(png)
png(file.path(outfldr,"map_smb_81_10"), width = 720, height = 720, quality=100)
breaks = range(map_smb_81_10, na.rm=TRUE)
# col    = c("red","blue")
col    = rainbow(length(breaks)-1)
image.plot(Xc,Yc,map_smb_81_10,breaks=breaks,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
dev.off()
#png(file.path(outfldr,"map_smb_81_10"), width = 720, height = 720, quality=100)
breaks = range(map_smb_81_10, na.rm=TRUE)
# col    = c("red","blue")
col    = rainbow(length(breaks)-1)
image.plot(Xc,Yc,map_smb_81_10,breaks=breaks,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
#dev.off()
#png(file.path(outfldr,"map_smb_81_10"), width = 720, height = 720, quality=100)
breaks = range(map_smb_81_10, na.rm=TRUE)
# col    = c("red","blue")
col    = rainbow(length(breaks)-1)
image.plot(Xc,Yc,map_smb_81_10,breaks=breaks,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
#dev.off()
image.plot(Xc,Yc,map_smb_81_10,breaks=breaks,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
def
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/calculations.r')
new
sum(new)
sum(new$SMB)
sum(as.numeric((new$SMB)))
source('~/TFM/mimhao_smb/calc_rignot_table.r')
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
def
r
def[[r+14]][23]=sum(def[[r+13]], na.rm = TRUE)
def[[r+14]][23]=sum(def[[14]], na.rm = TRUE)
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/calculations.r')
def$GL.Gt.year
sum(def$GL.Gt.year)
sum(def$GL.Gt.year)-5088.0
df$`SMB-1981-2010`
sum(df$`SMB-1981-2010`)
df
df[1]
df[[1]]
sum(df[[1]])
source('~/TFM/mimhao_smb/calculations.r')
df
df[[2]]
sum(df[[2]])
sum(def$SMB.1981.2010.Gt.year)
def[[2]]
def$SMB.1981.2010.Gt.year
sum(def$SMB.1981.2010.Gt.year[1:22])
sum(def$SMB.1981.2010.Gt.year[1:21])
def$SMB.1981.2010.Gt.year[1:21]
def$SMB.1981.2010.Gt.year[1:22]
def$SMB.1981.2010.Gt.year[1:23]
def$SMB.1981.2010.Gt.year[1:22]
View(def$SMB.1981.2010.Gt.year[1:22])
df$Area_bedmap
sum(df$Area_bedmap)
sum(df$Area_bedmap)-df$Area_bedmap[8]
df$Area_bedmap[8]
df$Area_bedmap[[8]
]
def$Area.NASA.Km2
def$Area.NASA.Km2[[23]]
def$Area.NASA.Km2[[22]]
def$Area.NASA.Km2-def$Area.NASA.Km2[[22]]
sum(def$Area.NASA.Km2)-def$Area.NASA.Km2[[22]]
source('~/TFM/mimhao_smb/calculations.r')
def
def$SMB.A1B.2000.2010.Gt.year
df$`SMB-A1B-2000-2010`
sum(df$`SMB-A1B-2000-2010`)
sum(df$`SMB-A1B-2000-2010`)-df$`SMB-A1B-2000-2010`[8]
df$`SMB-A1B-2000-2010`[8]
df$`SMB-A1B-2000-2010`[7]
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
length(breaks)
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
map_gl
n_reg
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
map_gl
map_gl>=100
map_gl>=1000
map_gl==0
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
mask_super
mask_super[1]
mask_super[2]
mask_super[[23]]
mask_super
View(mask_super)
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
breaks = range(map_gl, na.rm=TRUE)
# col    = c("red","blue")
col    = rainbow(length(breaks)-1)
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
col    = rainbow
image.plot(Xc,Yc,map_gl,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
rainbow
col    = rainbow(3)
image.plot(Xc,Yc,map_gl,col=col())
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
col    = rainbow()
image.plot(Xc,Yc,map_gl,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
col    = rainbow(3)
image.plot(Xc,Yc,map_gl,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
col    = rainbow(5)
image.plot(Xc,Yc,map_gl,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
breaks = range(map_gl,na.rm=TRUE)
col    = rainbow(breaks-1)
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
breaks = range(map_gl,na.rm=TRUE)
col    = rainbow(breaks)-1
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
breaks = range(map_gl,na.rm=TRUE)
col    = rainbow(length(breaks)-1)
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
breaks = range(map_gl,na.rm=TRUE)
col    = rainbow(3)
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
breaks = range(map_gl)
col    = rainbow(3)
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
col    = rainbow(3)
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
col    = rainbow(3)
image.plot(Xc,Yc,map_gl,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
rm(breaks)
help(range)
range(map_gl)
range(map_gl, na.rm=TRUE)
breaks=range(map_gl, na.rm=TRUE),0
breaks=range(map_gl, na.rm=TRUE) 0
breaks = 10.9 1000 5088.0
breaks <- 10.9 1000 5088.0
breaks = "10.9" "1000" "5088.0"
breaks=range(map_gl, na.rm=TRUE)
breaks
rm(breaks)
breaks
breaks = 10.9 5088.0
breaks = c(10.9, 5088.0)
breaks
breaks = c(10.9, 10000, 5088.0)
col    = rainbow(3)
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
col    = rainbow(2)
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
col    = c("red", "blue")
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
rm(breaks)
rm(col)
rm(image.plot())
rm(plots)
rm(Plots)
range(map_gl, na.rm=TRUE)
col("red", "blue")
col=c("red", "blue")
breaks = c(10,9, 1000, 5088.0)
col
breaks
breaks = c(10.9, 1000, 5088.0)
breaks
col
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
n_reg
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
breaks = range(map_gl, na.rm=TRUE)
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
breaks = range(map_gl, na.rm=TRUE)
breaks
col = rainbow(length(breaks)-1)
# col    = c("red","blue")
col = rainbow(length(breaks)-1)
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
source('~/TFM/mimhao_smb/plot_superregions.r')
png(file.path(outfldr,"map_gl"))
breaks = c(range(map_gl, na.rm=TRUE)
)
###GL PLOT###
png(file.path(outfldr,"map_gl"))
breaks = c(range(map_gl, na.rm=TRUE))
# col    = c("red","blue")
col = rainbow(length(breaks)-1)
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
dev.off()
source('~/TFM/mimhao_smb/plot_superregions.r')
breaks = c(range(map_gl, na.rm=TRUE), 200)
# col    = c("red","blue")
col = rainbow(length(breaks)-1)
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
range(map_gl, na.rm=TRUE)
breaks = c(range(map_gl, na.rm=TRUE), 50)
# col    = c("red","blue")
col = rainbow(length(breaks)-1)
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
breaks = c(10.9, 50 169.3)
# col    = c("red","blue")
col = rainbow(length(breaks)-1)
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
breaks = c(10.9, 50 169.3)
# col    = c("red","blue")
col = rainbow(length(breaks)-1)
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
breaks[1]
breaks[2]
###GL PLOT###
png(file.path(outfldr,"map_gl"))
breaks = c(range(map_gl, na.rm=TRUE))
z1 = breaks[1]
z2 = breaks[2]
zint = 10
brks = seq(z1,z2,by=zint)
col=colorRampPalette(c("darkmagenta","darkblue","blue","white","khaki1","red","red4"))(length(brks)-1)
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
title("Grounding line flux")
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
dev.off()
###GL PLOT###
png(file.path(outfldr,"map_gl"))
breaks = c(range(map_gl, na.rm=TRUE))
z1 = breaks[1]
z2 = breaks[2]
zint = 10
brks = seq(z1,z2,by=zint)
col=colorRampPalette(c("darkmagenta","darkblue","blue","white","khaki1","red","red4"))(length(brks)-1)
image.plot(Xc,Yc,map_gl,breaks=breaks,col=col)
title("Grounding line flux")
contour(Xc,Yc,mask_ice,add=TRUE,levels=c(0,2,3),drawlabels=FALSE,lwd=3,col="grey50")
dev.off()
source('~/TFM/mimhao_smb/calculations.r')
source('~/TFM/mimhao_smb/plot_superregions.r')
